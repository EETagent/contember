@import '../common'

$layout-background: #FFFFFF
$layout-border: solid 1px #E5E5EC
$layout-sidebar-width: (260em / 16)

.#{$cui-conf-globalPrefix}layout
	display: flex
	flex-direction: column
	background: $layout-background

	width: 100%
	height: 100%
	min-height: 50vh

	&-topBar
		width: 100%
		border-bottom: $layout-border
		min-height: 3em
		display: flex
		align-items: center

		&-start
			@media (min-width: 800px)
				min-width: $layout-sidebar-width

		&-end
			margin-left: auto

	&-bottom
		display: flex
		align-items: stretch
		width: 100%
		height: 100%
		flex-grow: 1

	&-sideBar

		display: flex
		flex-direction: column
		align-items: stretch
		flex-grow: 0
		width: $layout-sidebar-width
		max-width: $layout-sidebar-width
		border-right: $layout-border
		position: relative
		transition: max-width cubic-bezier(0.77, 0, 0.175, 1) .5s

		&.view-collapsed
			max-width: 4.45em

		&-in
			position: relative
			display: flex
			flex-direction: column
			align-items: stretch
			flex-grow: 1
			width: 100%
			overflow-x: hidden
			overflow-y: auto
			transition: opacity cubic-bezier(0.77, 0, 0.175, 1) .5s
			background: $layout-background

			&:after
				content: ''
				display: block
				position: absolute
				top: 0
				right: 0
				bottom: 0
				width: 2em
				background: linear-gradient(to right, rgba($layout-background, 0), rgba($layout-background, 1))
				transform: translateX(100%)
				transition: transform cubic-bezier(0.77, 0, 0.175, 1) .5s

			&-in
				display: flex
				flex-grow: 1
				flex-direction: column
				align-items: stretch
				width: $layout-sidebar-width

		&.view-collapsed &-in
			opacity: .25

		&.view-collapsed &-in:after
			transform: none

		&-collapseButton
			$size: (24em / 16)
			font-size: inherit
			position: absolute
			z-index: 2
			top: (48em / 16)
			right: -0.5 * $size
			display: inline-flex
			width: $size
			height: $size
			background: $layout-background url(../../assets/layout-collapseButton-arrow.svg) no-repeat center center
			background-size: auto 50%
			border: $layout-border
			border-radius: $size
			outline: none
			transition: transform cubic-bezier(0.77, 0, 0.175, 1) .5s

			&-label
				display: none

		&.view-collapsed &-collapseButton
			transform: rotate(180deg)

	&-main
		width: 80%
		flex-grow: 1
		background: $layout-background

	&-mainActions
		width: 100%
		position: absolute
		top: 0
		left: 0
		right: 0
		transform: translateY(-50%)

		&-wrap
			position: relative

	&-space
		padding: .5em 1em
