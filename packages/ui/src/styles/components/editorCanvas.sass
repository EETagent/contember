@import '../common'

.#{$cui-conf-globalPrefix}editorCanvas
	@extend %controlVariants

	border: $cui-control-border-width solid $cui-control-view-default-border-color
	border-radius: $cui-control-border-radius
	width: 100%
	padding: $cui-gap * 4

	//&::after
		+size(100% 2em)
		content: ''
		display: block

	.#{$cui-conf-globalPrefix}box-content.view-depth-2,
	.#{$cui-conf-globalPrefix}stack.view-depth-3 .#{$cui-conf-globalPrefix}editorBox
		border: 0
		border-radius: 0
		border-bottom-width: 1px
		padding: 0

	&-canvas
		min-height: 2em
		cursor: text

		$headingCounter: null
		@for $level from 1 through length($cui-editor-heading-counters)
			$counter-name: nth($cui-editor-heading-counters, $level)
			$headingCounter: $headingCounter unquote($counter-name)
		counter-reset: $headingCounter unquote($cui-editor-paragraph-counter)

		h1, h2, h3, h4, h5, h6
			margin: 0
		& > :first-child
			margin-top: 0
		& > :last-child
			margin-bottom: 0
		a
			color: $cui-color-blue

		ol + ul,
		ol + ol,
		ul + ul,
		ul + ol
			margin-top: .5em

		li
			& > p
				margin: 0

		code,
		em
			padding: em(2px) em(1px)

		code
			font-family: monospace
			background-color: $cui-color-gray-2

		em
			// TODO use a css var with a fallback
			background-color: lighten($cui-color-blue, 35)
			font-style: normal

		hr
			background-color: $cui-color-gray-2
			height: em(1px)
			margin: 0
			border: none

		::selection
			background-color: #BFE4FF

	&.view-large > &-canvas
		min-height: 32em

	& > &-canvas &-canvas
		min-height: 1em
		padding: 0

	&.view-seamless
		box-shadow: none

	& &
		&:not(:first-child)
			margin-top: var(--cui-formGroup-separation)
